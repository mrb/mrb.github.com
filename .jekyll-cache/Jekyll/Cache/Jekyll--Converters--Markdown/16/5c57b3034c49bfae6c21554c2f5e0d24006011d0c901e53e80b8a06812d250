I"­
<p><br /></p>
<h3 id="the-impossible-fragility-of-dockerfiles">The impossible fragility of Dockerfiles</h3>

<p>Docker has done some amazing things for me, and for businesses that Iâ€™ve worked with, even in the very short time that it has existed. Certain large, technically complex problems that Iâ€™ve been a part of solving could not have been solved elegantly if it werenâ€™t for Docker. Iâ€™ve seen peopleâ€™s careers made by it, an entire secondary industry even, and yet, I still find their basic unit, the Dockerfile, to be a complete nightmare.</p>

<p>When I first started using Docker, I thought â€œthis is a tough problem now, but it will probably get better.â€ Now, several years later, Iâ€™m not so sure. To me, the fundamental problem remains this:</p>

<p><em>Dockerfiles attempt to abstract over infrastructure by allowing units to be composed and extended. The fundamental issue is that thatâ€™s just not how infrastructure really works.</em></p>

<p>As an example, I recently spent time, as a <em>very experienced Docker user</em>, attempting to create a Dockerfile for an application which uses the following technology:</p>

<ul>
  <li>Ruby</li>
  <li>Rails</li>
  <li>MySQL (as in the client, not running a DB server inside this container)</li>
</ul>

<p>Perhaps the three most vanilla, obvious choices for a language, a web framework, and a database to back them.<strong>[1]</strong> Instead of being straightforward for me to put this together, it was anything but. There is no off the shelf, easy way to â€œDockerizeâ€ this type of application, and any solution that I found was broken in one way or another, made one or more wrong assumptions, or just straight up didnâ€™t work.</p>

<p>While itâ€™s true that once something has been successfully pushed into a Dockerfile it works nicely, it remains, as of the beginning of 2017, to be way, way too difficult and time consuming to make even slight changes to existing Dockerfiles to suit general purpose needs.</p>

<p>Again, Iâ€™d like to say something positive sounding like â€œIâ€™m sure this will be solved eventually, and that this problem will go away,â€ but Iâ€™m really not sure that this is possible. What are some possible solutions that can make the Dockerfile problem tractable? How can infrastructure, so fragmented and granular in its natural state, ever become reliably composable? Someone help me out.</p>

<p>For now, Iâ€™ll be over here banging my head on a desk over and over again.</p>

<hr />

<p><strong>[1]</strong> If your takeaway here is â€œitâ€™s Ruby thatâ€™s broken, not Docker!â€ â€“ thatâ€™s kind of proving my point. How can Docker be successful when the things it purports to abstract remain so desparately broken?</p>
:ET